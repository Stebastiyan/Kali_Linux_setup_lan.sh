Инструкция по использованию

    Сохраните скрипт в файл, например setup_lan.sh.

    Сделайте его исполняемым:
    bash

chmod +x setup_lan.sh

Запустите от root:
bash

sudo ./setup_lan.sh

    Следуйте инструкциям:

        Введите номер компьютера (1 или 2).

        Выберите Ethernet-интерфейс из списка (обычно eth0 или enpXsY).

        При необходимости очистите старые IP.

        Если это компьютер 1 и нужно раздать интернет, выберите интерфейс с выходом в сеть (например, wlan0).

        При желании сохраните настройки постоянно.

Примечания

    Скрипт использует временную настройку через ip addr. При перезагрузке настройки исчезнут, если не сохранить их в /etc/network/interfaces.

    Для работы NAT требуется, чтобы на компьютере 1 был доступен интернет через другой интерфейс (например, Wi-Fi или USB-модем).

    Если планируется использовать раздачу интернета постоянно, рекомендуется установить пакет iptables-persistent для сохранения правил файрвола.

    Для графического интерфейса можно заменить read и select на вызовы zenity (например, zenity --entry и zenity --list).

Возможные улучшения

    Добавить поддержку настройки Wi-Fi в режиме точки доступа (требует hostapd и dnsmasq).

    Автоматически определять интерфейс с интернетом (например, через ip route | grep default).

    Проверять, не используется ли NetworkManager, и отключать его для настраиваемого интерфейса (nmcli dev set $iface managed no).

Этот скрипт решает основную задачу: настраивает прямое соединение по Ethernet с диалоговым выбором номера компьютера и предоставляет опцию раздачи интернета.
